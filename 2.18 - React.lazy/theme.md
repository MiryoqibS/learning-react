# üì¶ –¢–µ–º–∞ 2.18 - `React.lazy` + `Suspense`

---

## üöÄ –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è

- –í –±–æ–ª—å—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å—Ä–∞–∑—É ‚Üí —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ–ª—å—à–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è.
- –†–µ—à–µ–Ω–∏–µ ‚Üí –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é `React.lazy`.
- –ê –ø–æ–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≥—Ä—É–∑–∏—Ç—Å—è, –º—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–ø–∞—Å–Ω–æ–π UI —á–µ—Ä–µ–∑ `Suspense`.

---

## üîπ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```javascript
import React, { useState, Suspense } from "react";

// –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
const Profile = React.lazy(() => import("./Profile"));
const Stats = React.lazy(() => import("./Stats"));

function App() {
  const [page, setPage] = useState(null);

  return (
    <div>
      <h1>–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</h1>
      <button onClick={() => setPage("profile")}>–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</button>
      <button onClick={() => setPage("stats")}>–û—Ç–∫—Ä—ã—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>

      {/* Suspense –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç fallback –ø–æ–∫–∞ –∏–¥—ë—Ç –∑–∞–≥—Ä—É–∑–∫–∞ */}
      <Suspense fallback={<p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>}>
        {page === "profile" && <Profile />}
        {page === "stats" && <Stats />}
      </Suspense>
    </div>
  );
}

export default App;
```

---

## üìå –í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ:

- `React.lazy` –∑–∞–≥—Ä—É–∂–∞–µ—Ç `Profile` –∏ `Stats` —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ.
- `Suspense` —Å `fallback` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç ¬´–ó–∞–≥—Ä—É–∑–∫–∞...¬ª –ø–æ–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–¥–≥—Ä—É–∂–∞–µ—Ç—Å—è.
- –†–∞–∑–º–µ—Ä –ø–µ—Ä–≤–æ–≥–æ –±–∞–Ω–¥–ª–∞ –º–µ–Ω—å—à–µ ‚Üí —Å–∞–π—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ.

---

## üîπ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

- `React.lazy` –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É –º–æ–¥—É–ª—è –¥–æ –º–æ–º–µ–Ω—Ç–∞, –∫–æ–≥–¥–∞ –æ–Ω —Ä–µ–∞–ª—å–Ω–æ –Ω—É–∂–µ–Ω.
- `Suspense` —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º ¬´–æ–∂–∏–¥–∞–Ω–∏—è¬ª –∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–≥–ª—É—à–∫—É (Loader, —Ç–µ–∫—Å—Ç).

---

## üîπ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

- –î–ª—è —Ç—è–∂—ë–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–≥—Ä–∞—Ñ–∏–∫–∏, –∫–∞—Ä—Ç—ã, —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã).

- –î–ª—è —Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü (–ø—Ä–æ—Ñ–∏–ª—å, –∞–¥–º–∏–Ω–∫–∞).

- –ß—Ç–æ–±—ã —É–º–µ–Ω—å—à–∏—Ç—å –≤—Ä–µ–º—è –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏.

---

## ‚ö†Ô∏è –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏

| –û—à–∏–±–∫–∞                                      | –ü—Ä–∞–≤–∏–ª—å–Ω–æ                             |
| ------------------------------------------- | ------------------------------------- |
| –ó–∞–≥—Ä—É–∂–∞—Ç—å –≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `React.lazy` | –î–µ–ª–∏—Ç—å —Ç–æ–ª—å–∫–æ **—Ç—è–∂—ë–ª—ã–µ —á–∞—Å—Ç–∏**       |
| –î—É–º–∞—Ç—å, —á—Ç–æ `lazy` —É—Å–∫–æ—Ä—è–µ—Ç —Å–∞–º —Ä–µ–Ω–¥–µ—Ä      | –û–Ω –ª–∏—à—å **—É–º–µ–Ω—å—à–∞–µ—Ç —Å—Ç–∞—Ä—Ç–æ–≤—ã–π –≤–µ—Å**   |
| –ó–∞–±—ã—Ç—å –æ–±–µ—Ä–Ω—É—Ç—å –≤ `Suspense`                | –í—Å–µ–≥–¥–∞ –Ω—É–∂–µ–Ω `Suspense` –≤–æ–∫—Ä—É–≥ `lazy` |
