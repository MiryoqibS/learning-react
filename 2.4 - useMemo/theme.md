# üì¶ –¢–µ–º–∞ 2.4 - useMemo

–í —ç—Ç–æ–π —Ç–µ–º–µ –º—ã —Ä–∞–∑–±–∏—Ä–∞–µ–º —Ö—É–∫ useMemo, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –∏–∑–±–µ–≥–∞—Ç—å –ª–∏—à–Ω–∏—Ö –ø–µ—Ä–µ—Å—á—ë—Ç–æ–≤ —Å–ª–æ–∂–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π.

---

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

> üìå useMemo –∫—ç—à–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç –µ–≥–æ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

> üìå –ü–æ–ª–µ–∑–µ–Ω –ø—Ä–∏ —Ç—è–∂—ë–ª—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏—è—Ö (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –ø–æ–∏—Å–∫).

> üìå –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –∏–ª–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –º–∞–ª–µ–Ω—å–∫–∏–µ ‚Äî –æ—Å–æ–±–æ–π –ø–æ–ª—å–∑—ã –Ω–µ –¥–∞—Å—Ç.

---

## üîπ –ü—Ä–∏–º–µ—Ä 1. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å–ø–∏—Å–∫–∞

```javascript
import React, { useState, useEffect, useMemo } from "react";
import { TodoList } from "./components/TodoList";

export function App() {
  const [todos, setTodos] = useState([]);
  const [isSorted, setIsSorted] = useState(false);

  useEffect(() => {
    fetch("https://jsonplaceholder.typicode.com/todos")
      .then((res) => res.json())
      .then((data) => setTodos(data));
  }, []);

  const sortedTodos = useMemo(() => {
    console.log("–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∑–∞–ø—É—â–µ–Ω–∞ üöÄ");
    return [...todos].sort((a, b) => a.completed - b.completed);
  }, [todos]);

  return (
    <div>
      <button onClick={() => setIsSorted((prev) => !prev)}>
        {isSorted ? "–†–∞—Å—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å" : "–û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å"}
      </button>
      <TodoList todos={isSorted ? sortedTodos : todos} />
    </div>
  );
}
```

> üìå –ó–¥–µ—Å—å useMemo –Ω–µ –¥–∞—ë—Ç –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –Ω–∞ –∫–∞–∂–¥—ã–π —Ä–µ–Ω–¥–µ—Ä, –∞ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –º–µ–Ω—è—é—Ç—Å—è todos.

---

## üîπ –ü—Ä–∏–º–µ—Ä 2. –¢—è–∂—ë–ª—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è

```javascript
import React, { useState, useMemo } from "react";

function ExpensiveCalc({ num }) {
  const result = useMemo(() => {
    console.log("–í—ã—á–∏—Å–ª–µ–Ω–∏–µ...");
    let total = 0;
    for (let i = 0; i < 1000000000; i++) {
      total += num;
    }
    return total;
  }, [num]);

  return <p>–†–µ–∑—É–ª—å—Ç–∞—Ç: {result}</p>;
}

export default ExpensiveCalc;
```

> üìå –ë–µ–∑ useMemo —Ç–∞–∫–æ–π —Ä–∞—Å—á—ë—Ç –∑–∞–ø—É—Å–∫–∞–ª—Å—è –±—ã –Ω–∞ –∫–∞–∂–¥—ã–π —Ä–µ–Ω–¥–µ—Ä, –∞ —Å –Ω–∏–º ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ num.

---

## ‚ö†Ô∏è –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏

- ‚ùå –ù–µ –Ω—É–∂–Ω–æ –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤—Å—ë –ø–æ–¥—Ä—è–¥ –≤ useMemo.
- ‚ùå –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–º–µ—Ç–Ω–∞ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω–æ –±–æ–ª—å—à–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏—è—Ö –∏–ª–∏ –¥–∞–Ω–Ω—ã—Ö.
- ‚úÖ –î–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —Å–ø–∏—Å–∫–æ–≤ ‚Äî –ø–æ–ª—å–∑—ã –ø–æ—á—Ç–∏ –Ω–µ—Ç.
