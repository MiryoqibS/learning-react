# üì¶ –¢–µ–º–∞ 2.1 - `useEffect`: –≤–≤–µ–¥–µ–Ω–∏–µ

–í —ç—Ç–æ–π —Ç–µ–º–µ –º—ã –∑–Ω–∞–∫–æ–º–∏–º—Å—è —Å —Ö—É–∫–æ–º `useEffect`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö React.

---

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

> üìå useEffect –Ω—É–∂–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–±–æ—á–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏: –∑–∞–ø—Ä–æ—Å—ã –∫ API, —Ä–∞–±–æ—Ç–∞ —Å DOM, –ø–æ–¥–ø–∏—Å–∫–∏, —Ç–∞–π–º–µ—Ä—ã.

> üìå –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

> üìå `useEffect(callback, deps)` –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞:

- callback ‚Äî —Ñ—É–Ω–∫—Ü–∏—è —Å –ª–æ–≥–∏–∫–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∞.
- deps ‚Äî –º–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—â–∏–π –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ —ç—Ñ—Ñ–µ–∫—Ç–∞.

---

## üîπ –ü—Ä–∏–º–µ—Ä—ã

### 1. –≠—Ñ—Ñ–µ–∫—Ç –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```javascript
import React, { useEffect } from "react";

function App() {
  useEffect(() => {
    console.log("–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç—Ä–µ–Ω–¥–µ—Ä–∏–ª—Å—è!");
  });

  return <h1>–ü—Ä–∏–≤–µ—Ç, useEffect üëã</h1>;
}

export default App;
```

> üìå –≠—Ñ—Ñ–µ–∫—Ç –±—É–¥–µ—Ç —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞.

### 2. –≠—Ñ—Ñ–µ–∫—Ç —Å –ø—É—Å—Ç—ã–º –º–∞—Å—Å–∏–≤–æ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```javascript
import React, { useEffect } from "react";

function App() {
  useEffect(() => {
    console.log("–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–ª—Å—è ‚úÖ");
  }, []);

  return <h1>useEffect —Å []</h1>;
}

export default App;
```

> üìå –≠—Ñ—Ñ–µ–∫—Ç —Å—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏.

### 3. –≠—Ñ—Ñ–µ–∫—Ç —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

```javascript
import React, { useState, useEffect } from "react";

function Counter() {
  const [count, setCount] = useState(0);

  useEffect(() => {
    console.log(`–°—á—ë—Ç—á–∏–∫ –æ–±–Ω–æ–≤–∏–ª—Å—è: ${count}`);
  }, [count]);

  return (
    <div>
      <p>–°—á—ë—Ç—á–∏–∫: {count}</p>
      <button onClick={() => setCount(count + 1)}>+</button>
    </div>
  );
}

export default Counter;
```

> üìå –≠—Ñ—Ñ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –∏–∑–º–µ–Ω–∏—Ç—Å—è count.

### 4. –û—á–∏—Å—Ç–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∞ (cleanup)

```javascript
import React, { useState, useEffect } from "react";

function Timer() {
  const [time, setTime] = useState(0);

  useEffect(() => {
    const interval = setInterval(() => {
      setTime((t) => t + 1);
    }, 1000);

    return () => {
      clearInterval(interval);
      console.log("–¢–∞–π–º–µ—Ä –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚è±Ô∏è");
    };
  }, []);

  return <p>–ü—Ä–æ—à–ª–æ —Å–µ–∫—É–Ω–¥: {time}</p>;
}

export default Timer;
```

> üìå –í–æ–∑–≤—Ä–∞—â–∞–µ–º–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–∑ useEffect –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–∏–ª–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π).

---

## ‚ö†Ô∏è –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏

- ‚ùå –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ ‚Üí —ç—Ñ—Ñ–µ–∫—Ç –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –∫–∞–∂–¥—ã–π —Ä–µ–Ω–¥–µ—Ä.
- ‚ùå –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª: –µ—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞ –º–µ–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
- ‚úÖ –î–ª—è —Ç–∞–π–º–µ—Ä–æ–≤, –ø–æ–¥–ø–∏—Å–æ–∫ –∏ —Å–ª—É—à–∞—Ç–µ–ª–µ–π —Å–æ–±—ã—Ç–∏–π –≤—Å–µ–≥–¥–∞ –¥–µ–ª–∞–µ–º –æ—á–∏—Å—Ç–∫—É –≤ return.
